import{a as P,bi as v,u as g,r as e,Q as m,bo as b,bp as w,bt as N,j as s,k as S,bu as U}from"./index-9eaefbd0.js";import{M as y}from"./Metadata-b3055ca2.js";import{L as C}from"./Loader-02f52dfe.js";import{a as D,d as E}from"./LockOpen-24e204ed.js";import{d as L}from"./VpnKey-9ed4a592.js";import{B as k}from"./ButtonLoader-0b1028ce.js";function $(){const{error:o,isUpdated:d,loading:f}=P(a=>a.profile),n=v(),r=g(),[i,x]=e.useState(""),[l,_]=e.useState(""),[p,h]=e.useState(""),[u,c]=e.useState(!1),j=a=>{a.preventDefault();const t=new FormData;t.set("oldPassword",i),t.set("newPassword",l),t.set("confirmPassword",p),c(!0),U(r,t)};return e.useEffect(()=>{o&&(m.error(o,{theme:"dark"}),c(!1),r(b())),d&&(r(w(!1)),m.success("Password Updated Successfully",{theme:"dark"}),n("/account"),r(N())),setTimeout(()=>{r(w(!1))},300)},[r,o,d,n]),s.jsx(e.Fragment,{children:f?s.jsx(C,{}):s.jsxs(e.Fragment,{children:[s.jsx(y,{title:"Change Password"}),s.jsx("div",{className:"update__password__container",children:s.jsxs("div",{className:"update__password__box",children:[s.jsx("h2",{children:"Update Password"}),s.jsxs("form",{className:"update__password__form",onSubmit:j,children:[s.jsxs("div",{className:"login__password",children:[s.jsx(L,{}),s.jsx("input",{type:"password",placeholder:"Old Password",required:!0,name:"password",value:i,onChange:({target:a})=>x(a.value)})]}),s.jsxs("div",{className:"login__password",children:[s.jsx(D,{}),s.jsx("input",{type:"password",placeholder:" New Password",required:!0,name:"password",value:l,onChange:({target:a})=>_(a.value)})]}),s.jsxs("div",{className:"login__password",children:[s.jsx(E,{}),s.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0,name:"password",value:p,onChange:({target:a})=>h(a.value)})]}),s.jsx("button",{type:"submit",disabled:u,className:"update__password__btn",children:u?s.jsx(k,{}):"Update"})]})]})}),s.jsx(S,{})]})})}export{$ as default};
