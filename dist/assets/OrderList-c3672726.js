import{bi as x,u as _,a as c,r as t,Q as o,c1 as j,c2 as g,c3 as O,j as e,bh as h,k as b}from"./index-1dce364e.js";import{d as y,a as A}from"./DeleteForever-722c9c61.js";import{S as D}from"./Dashboard-5148f9aa.js";/* empty css                 */import{a as N,d as S}from"./orderActions-71979496.js";import{M as v}from"./Metadata-02a1e8c7.js";import{L}from"./Loader-f12eced5.js";import{d as k}from"./Cancel-2e0bedbf.js";import{T as C}from"./Typography-9d2df654.js";import{a as E}from"./Button-bc91d4db.js";import{D as R}from"./DataGrid-ba459848.js";import"./Collapse-ae32e88f.js";import"./TextField-cd9713db.js";function V(){const l=x(),s=_(),{orders:a,error:d,loading:u}=c(r=>r.adminGetAllOrders),{isDeleted:n,error:i}=c(r=>r.deleteUpdateOrderAdmin),f=r=>{S(s,r)},p=[{field:"id",headerName:"Order ID",minWidth:300,flex:1},{field:"status",headerName:"Status",minWidth:150,flex:.3,cellClassName:r=>r.value==="Delivered"?"green_Color":"red_Color"},{field:"itemsQty",headerName:"Items Qty",type:"number",minWidth:300,flex:.4},{field:"amount",headerName:"Amount",type:"number",minWidth:270,flex:.5},{field:"actions",headerName:"Actions",minwidth:150,type:"number",sortable:!1,flex:.3,renderCell:r=>e.jsxs(t.Fragment,{children:[e.jsx(h,{to:`/admin/order/${r.id}`,children:e.jsx(y,{})}),e.jsx(E,{onClick:()=>f(r.id),children:e.jsx(A,{})})]})}],m=[];return a&&a.forEach(r=>{m.push({id:r._id,itemsQty:r.orderItems.length,amount:r.paymentInfo.totalPrice,status:r.paymentInfo.orderStatus})}),t.useEffect(()=>{d&&(o.error(d,{theme:"dark"}),s(j())),i&&(o.error(i,{theme:"dark"}),s(g())),n&&(o.success("Order Deleted Successfully",{theme:"dark"}),s(O()),l("/admin/orders")),N(s)},[s,d,n,i,l]),e.jsxs(t.Fragment,{children:[u?e.jsx(L,{}):a.length>0?e.jsxs(t.Fragment,{children:[e.jsx(v,{title:"ALL ORDERS-Admin"}),e.jsxs("div",{className:"dashboard",children:[e.jsx(D,{}),e.jsxs("div",{className:"products__lists__container",children:[e.jsx("h1",{id:"product__list__heading",children:"ALL ORDERS"}),e.jsx(R,{rows:m,columns:p,disableSelectionOnClick:!0,className:"product__list__table",getRowHeight:()=>"auto"})]})]})]}):e.jsxs("div",{className:"no__orders__placed__div",children:[e.jsx(k,{}),e.jsx(C,{children:"Currently No orders placed"}),e.jsx(h,{to:"/admin/dashboard",children:"View Dashboard"})]}),e.jsx(b,{})]})}export{V as default};
