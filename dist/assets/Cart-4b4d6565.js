import{j as e,bh as j,b6 as b,b7 as k,r as c,bi as N,a as R,u as S,k as q,Q as d,bH as I}from"./index-d0d19506.js";import{r as L,a as x}from"./cartActions-5908f0c8.js";import{L as M}from"./Loader-22685ad8.js";import{M as p}from"./Metadata-de7c4565.js";import{T as P}from"./Typography-411901ab.js";function Q({product:n,price:o,name:l,image:t,deleteCartItems:a}){return e.jsxs("div",{className:"cart__item__card",children:[e.jsx("img",{src:t,alt:"product_image"}),e.jsxs("div",{children:[e.jsx(j,{to:`/product/${n}`,children:l}),e.jsx("span",{children:`Price ₹${o}`}),e.jsx("p",{onClick:()=>a(n),children:"Remove"})]})]})}var u={},T=k;Object.defineProperty(u,"__esModule",{value:!0});var m=u.default=void 0,$=T(b()),w=e,z=(0,$.default)((0,w.jsx)("path",{d:"M22.73 22.73 2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"}),"RemoveShoppingCart");m=u.default=z;function O(){const[n,o]=c.useState(!0),l=N(),{cartItems:t}=R(s=>s.cart),a=S(),h=s=>{L(a,s),d.success("Removed Successfully",{theme:"dark",autoClose:1500})},_=(s,r,i)=>{if(r<i){const y=r+1;x(a,s,y)}else d.warning("Not enough stock",{theme:"dark",autoClose:1500})},v=(s,r)=>{if(r<=1){h(s);return}const i=r-1;x(a,s,i)};c.useEffect(()=>{setTimeout(()=>{o(!1)},500)},[]);const g=()=>t==null?void 0:t.reduce((s,r)=>s+r.price*r.quantity,0),f=()=>{l("/login?redirect=shipping")},C=()=>{a(I()),d.success("Removed all products",{theme:"dark"})};return e.jsx(c.Fragment,{children:n?e.jsx(M,{}):e.jsx(c.Fragment,{children:t.length===0?e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Your Cart"}),e.jsxs("div",{className:"empty__card",children:[e.jsx(m,{}),e.jsx(P,{children:"No Products in your cart"}),e.jsx(j,{to:"/products",children:"View Products"})]})]}):e.jsxs(c.Fragment,{children:[e.jsx(p,{title:"Your Cart"}),e.jsxs("div",{className:"cart__page",children:[e.jsxs("div",{className:"cart__header",children:[e.jsx("p",{children:"Product"}),e.jsx("p",{children:"Quantity"}),e.jsx("p",{children:"SubTotal"})]}),t&&t.map(s=>e.jsxs("div",{className:"cart__container",children:[e.jsx(Q,{...s,deleteCartItems:h}),e.jsxs("div",{className:"cart__input",children:[e.jsx("button",{onClick:()=>v(s.product,s.quantity),children:"-"}),e.jsx("input",{type:"number",readOnly:!0,value:s.quantity}),e.jsx("button",{onClick:()=>_(s.product,s.quantity,s.stock),children:"+"})]}),e.jsx("p",{className:"cart__subtotal",children:`₹${s.price*s.quantity}`})]},s.product)),e.jsxs("div",{className:"cart__gross__total",children:[e.jsx("div",{}),e.jsxs("div",{className:"cart__gross__profit__box",children:[e.jsx("p",{children:"Gross Total"}),e.jsx("p",{children:`₹${g()}`})]}),e.jsx("div",{}),e.jsxs("div",{className:"checkout__btn",children:[e.jsx("button",{onClick:C,children:"Remove All"}),e.jsx("button",{onClick:f,children:"Check out"})]})]})]}),e.jsx(q,{})]})})})}export{O as default};
