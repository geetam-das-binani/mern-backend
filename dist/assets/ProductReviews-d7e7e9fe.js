import{b6 as w,b7 as R,j as e,bi as j,u as b,b9 as N,a as h,r as s,Q as d,cr as f,cs as S,k as D}from"./index-1dce364e.js";import{S as I}from"./Dashboard-5148f9aa.js";import{f as v,h as E}from"./productActions-a692fb41.js";import{M as C}from"./Metadata-02a1e8c7.js";import{a as k}from"./Button-bc91d4db.js";import{D as A}from"./DataGrid-ba459848.js";import"./Collapse-ae32e88f.js";import"./TextField-cd9713db.js";import"./Typography-9d2df654.js";var n={},F=R;Object.defineProperty(n,"__esModule",{value:!0});var p=n.default=void 0,M=F(w()),y=e,H=(0,M.default)((0,y.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");p=n.default=H;function Q(){const c=j(),a=b();let{productId:t}=N();t&&localStorage.setItem("productId",t);const{reviews:i,error:l}=h(r=>r.adminAllReviews),{isDeleted:m,error:o}=h(r=>r.adminDeleteReview),_=r=>{t=localStorage.getItem("productId"),E(a,r,t)},x=[{field:"id",headerName:"Review ID",minwidth:200,flex:.5},{field:"user",headerName:"User",minwidth:200,flex:.6},{field:"comment",headerName:"Comment",minwidth:150,flex:1},{field:"rating",headerName:"Rating",minwidth:180,type:"number",flex:.4,cellClassName:r=>r.value>=3?"green_Color":"red_Color"},{field:"actions",headerName:"Actions",minwidth:150,type:"number",sortable:!1,flex:.3,renderCell:r=>e.jsx(s.Fragment,{children:e.jsx(k,{onClick:()=>_(r.id),children:e.jsx(p,{})})})}],u=[];i&&i.forEach(r=>{u.push({id:r._id,user:r.name,comment:r.comment,rating:r.rating})});const g=s.useCallback(()=>{if(t.length===24)return v(a,t)},[t]);return s.useEffect(()=>{l&&(d.error(l,{theme:"dark"}),a(f())),t&&g(),o&&(d.error(o,{theme:"dark"}),a(f())),m&&(d.success("Review Deleted Successfully",{theme:"dark"}),a(S()),v(a,localStorage.getItem("productId")),c("/admin/reviews"))},[a,l,m,o,c,t]),e.jsxs(s.Fragment,{children:[e.jsxs(s.Fragment,{children:[e.jsx(C,{title:"ALL REVIEWS-Admin"}),e.jsxs("div",{className:"dashboard",children:[e.jsx(I,{}),e.jsxs("div",{className:"products__review__container",children:[e.jsx("h1",{className:"product__reviews__form__heading",children:" ALL REVIEWS"}),i&&i.length>0?e.jsx(A,{rows:u,columns:x,getRowHeight:()=>"auto",disableSelectionOnClick:!0,className:"product__list__table"}):e.jsx(e.Fragment,{children:e.jsx("h1",{className:"no__product__reviews__heading",children:"No Reviews Found"})})]})]})]}),e.jsx(D,{})]})}export{Q as default};
